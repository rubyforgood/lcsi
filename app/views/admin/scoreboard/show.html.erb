<table class='table table-striped'>
  <thead>
    <tr>
      <th>Account</th>
      <% @presenter.problems.each.with_index do |problem, index| %>
        <th class='text-center'><%= index + 1 %></th>
      <% end %>
      <th class='text-center'>Score</th>
      <th class='text-center'>Time + Penalty</th>
    </tr>
  </thead>
  <tbody>
    <% @presenter.ranked_accounts.each do |account| %>
      <tr>
        <td><%= account.name %></td>
        <% @presenter.problems.each do |problem| %>
          <td class='text-center' bgcolor=<%= @presenter.color(account: account, problem: problem) %>><%= @presenter.attempts(account: account, problem: problem) %></td>
        <% end %>
        <td class='text-center'><%= @presenter.score(account: account) %></td>
        <td class='text-center'><%= @presenter.time_plus_penalty(account: account) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<script type="text/javascript">
  autoRefresh(<%= @presenter.page_refresh_interval %>);
</script>
